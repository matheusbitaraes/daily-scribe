# Daily Scribe - Dynamic DNS Configuration
# Copy this file to /etc/daily-scribe/ddns.conf and customize for your setup

# Update interval for daemon mode (seconds)
# Recommended: 300 (5 minutes) - frequent enough for most ISPs
UPDATE_INTERVAL=300

# Maximum retry attempts when updates fail
MAX_RETRIES=3

# HTTP request timeout (seconds)
TIMEOUT=30

# Log level: DEBUG, INFO, WARN, ERROR
LOG_LEVEL=INFO

# DDNS Providers Configuration
# Format: provider:param1:param2:param3...
# Multiple providers can be separated by commas for redundancy
#
# Supported providers:
# - DuckDNS: duckdns:domain:token
# - Cloudflare: cloudflare:zone_id:record_id:api_token:domain.example.com
# - No-IP: noip:hostname:username:password

# Example configurations (uncomment and customize):

# DuckDNS (recommended for home servers)
# Get your free domain and token from https://www.duckdns.org/
# DDNS_PROVIDERS="duckdns:mydomain:your-token-here"

# Cloudflare (if you have a domain managed by Cloudflare)
# Get zone_id from Cloudflare dashboard, record_id from API, api_token from API tokens
# DDNS_PROVIDERS="cloudflare:zone123:record456:your-api-token:yourdomain.com"

# No-IP (alternative free DDNS service)
# DDNS_PROVIDERS="noip:yourhost.ddns.net:username:password"

# Multiple providers for redundancy
# DDNS_PROVIDERS="duckdns:mydomain:token,noip:yourhost.ddns.net:username:password"

# REQUIRED: Uncomment and configure at least one provider
DDNS_PROVIDERS=""

# Custom IP check URLs (optional)
# These services are used to determine your public IP address
# Default services are used if not specified
IP_CHECK_URLS=(
    "https://ipv4.icanhazip.com"
    "https://api.ipify.org"
    "https://checkip.amazonaws.com"
    "https://ipinfo.io/ip"
)

# Advanced Configuration

# Force update even if IP hasn't changed (useful for testing)
FORCE_UPDATE=false

# Enable/disable IP change detection caching
# When true, updates only happen when IP actually changes
ENABLE_IP_CACHING=true

# DNS TTL for verification checks (seconds)
# Lower values mean faster propagation but more DNS queries
DNS_TTL=300

# Health check settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=3600  # 1 hour

# Notification settings (optional)
# Email notifications for failures (requires mailx or similar)
ENABLE_EMAIL_NOTIFICATIONS=false
NOTIFICATION_EMAIL=""

# Webhook notifications for monitoring systems
ENABLE_WEBHOOK_NOTIFICATIONS=false
WEBHOOK_URL=""

# Example webhook payload (JSON):
# {"service": "ddns-update", "status": "success|error", "message": "details", "ip": "x.x.x.x"}

# Provider-specific settings

# DuckDNS specific
DUCKDNS_IPV6_SUPPORT=false

# Cloudflare specific  
CLOUDFLARE_PROXY_STATUS=false  # Set to true to enable Cloudflare proxy
CLOUDFLARE_TTL=300

# No-IP specific
NOIP_OFFLINE_PROTECTION=true
